<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">

<head th:replace="~{fragments/head :: head('Tickets')}"></head>

<body>
    <header>
        <nav th:replace="~{fragments/navbar :: navbar('Ticket Platform')}"></nav>
    </header>

    <main>
        <div class="container mt-4">
            <h1><strong>Editing Ticket</strong></h1>

            <div class="search-box edit">
                <form th:action="@{/tickets/save}" th:object="${ticket}" method="post">
                    <input type="hidden" th:field="*{id}" />
                    <label for="title"><strong>Title</strong></label>
                    <input id="title" type="text" th:field="*{title}" placeholder="Title" />

                    <label for="category"><strong>Category</strong></label>
                    <select id="category" th:field="*{category}">
                        <option value="" disabled selected>Select Category</option>
                        <option th:each="category : ${categories}" th:value="${category.id}" th:text="${category.name}">
                        </option>
                    </select>

                        <label for="creationDate"><strong>Created on:</strong></label>
                        <input type="text"
                               id="creationDate"
                               th:value="${#temporals.format(ticket.creationDate, 'dd/MM/yyyy HH:mm')}"
                               disabled />

                    <label for="status"><strong>Status</strong></label>
                    <select id="status" th:field="*{status}">
                        <option value="" disabled selected>Select Status</option>
                        <option value="todo">To Do</option>
                        <option value="inprogress">In Progress</option>
                        <option value="closed">Closed</option>
                    </select>
                    <label for="operator"><strong>Operator</strong></label>
                    <select id="operator" th:field="*{operator}">
                        <option value="" disabled selected>Select Operator</option>
                        <option th:each="op : ${operators}" th:value="${op.id}" th:text="${op.fullName}"></option>
                    </select>

                    <button type="submit" class="save-btn">Save</button>
                    <a th:href="@{/tickets}" class="back-btn">Back</a>
                </form>



            </div>


        </div>
    </main>

    <th:block th:replace="~{fragments/footer :: footer}"></th:block>
    <th:block th:replace="~{fragments/footer :: scripts}"></th:block>
</body>

</html>